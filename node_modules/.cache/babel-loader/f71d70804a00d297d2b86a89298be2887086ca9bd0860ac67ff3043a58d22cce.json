{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PERSONAL\\\\Downloads\\\\tugood tugo\\\\src\\\\pages\\\\ActiveOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Package, Clock, MapPin, CheckCircle, AlertCircle, Shield, QrCode } from 'lucide-react';\nimport { pedidosAPI, authAPI } from '../services/api';\nimport { createQRData, generateVerificationURL } from '../utils/qrUtils';\nimport '../styles/ActiveOrders.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ActiveOrders = () => {\n  _s();\n  const [pedidos, setPedidos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // FunciÃ³n para generar cÃ³digo de seguridad\n  const generateSecurityCode = () => {\n    return Math.random().toString(36).substring(2, 8).toUpperCase();\n  };\n  useEffect(() => {\n    const cargarPedidos = async () => {\n      try {\n        setLoading(true);\n\n        // 1. Verificar autenticaciÃ³n\n        const user = authAPI.getCurrentUser();\n        const token = authAPI.getToken();\n        console.log('ðŸ” Estado de autenticaciÃ³n:', {\n          usuario: user ? 'Autenticado' : 'No autenticado',\n          userId: user === null || user === void 0 ? void 0 : user.id,\n          tokenPresente: !!token,\n          tokenLength: token === null || token === void 0 ? void 0 : token.length\n        });\n        if (!token || !user) {\n          console.warn('ðŸ”’ Usuario no autenticado. Creando datos de prueba...');\n          // En lugar de redirigir, crear datos de prueba para demostraciÃ³n\n          const pedidosPrueba = [{\n            id: 'demo-1',\n            comercio_nombre: 'PanaderÃ­a San JosÃ©',\n            cantidad_packs: 2,\n            estado: 'confirmado',\n            total: 24000,\n            fecha_recogida: new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(),\n            // 2 horas desde ahora\n            items: [{\n              nombre: 'Pack Sorpresa PanaderÃ­a',\n              cantidad: 2,\n              precio: 12000\n            }],\n            codigo_seguridad: generateSecurityCode(),\n            direccion_comercio: 'Carrera 15 #93-47, Chapinero',\n            telefono_comercio: '+57 301 234 5678'\n          }, {\n            id: 'demo-2',\n            comercio_nombre: 'Restaurante El Buen Sabor',\n            cantidad_packs: 1,\n            estado: 'listo',\n            total: 15000,\n            fecha_recogida: new Date(Date.now() + 1 * 60 * 60 * 1000).toISOString(),\n            // 1 hora desde ahora\n            items: [{\n              nombre: 'Pack Almuerzo Sorpresa',\n              cantidad: 1,\n              precio: 15000\n            }],\n            codigo_seguridad: generateSecurityCode(),\n            direccion_comercio: 'Calle 85 #12-34, Zona Rosa',\n            telefono_comercio: '+57 302 345 6789'\n          }];\n          console.log('ðŸ“¦ Usando datos de prueba:', pedidosPrueba);\n          setPedidos(pedidosPrueba);\n          setLoading(false);\n          return;\n        }\n\n        // 2. Hacer la peticiÃ³n a la API usando el servicio pedidosAPI\n        console.log('ðŸ”„ Solicitando pedidos activos...');\n        const response = await pedidosAPI.getList({\n          estado: 'pendiente'\n        });\n\n        // 3. Procesar la respuesta\n        console.log('ðŸ“¦ Respuesta de la API:', response);\n\n        // Extraer los pedidos de la respuesta (manejar diferentes formatos)\n        let pedidosData = [];\n        if (Array.isArray(response)) {\n          pedidosData = response;\n        } else if (response && Array.isArray(response.pedidos)) {\n          pedidosData = response.pedidos;\n        } else if (response && Array.isArray(response.data)) {\n          pedidosData = response.data;\n        } else if (response) {\n          console.warn('âš ï¸ Formato de respuesta inesperado:', response);\n        }\n        console.log(`ðŸ“Š ${pedidosData.length} pedidos encontrados`);\n\n        // Si no hay pedidos de la API, usar datos de prueba\n        if (pedidosData.length === 0) {\n          console.log('ðŸ“ No hay pedidos en la API, usando datos de prueba...');\n          const pedidosPrueba = [{\n            id: 'api-demo-1',\n            comercio_nombre: 'CafÃ© Central',\n            cantidad_packs: 1,\n            estado: 'pendiente',\n            total: 18000,\n            fecha_recogida: new Date(Date.now() + 3 * 60 * 60 * 1000).toISOString(),\n            items: [{\n              nombre: 'Pack CafÃ© y PastelerÃ­a',\n              cantidad: 1,\n              precio: 18000\n            }]\n          }];\n          setPedidos(pedidosPrueba);\n        } else {\n          // 4. Validar y formatear los pedidos\n          const pedidosValidados = pedidosData.map((pedido, index) => ({\n            id: pedido.id || `temp-${index}-${Date.now()}`,\n            ...pedido,\n            notas: pedido.notas || '',\n            estado: pedido.estado || 'pendiente',\n            fecha: pedido.fecha || new Date().toISOString(),\n            total: pedido.total || 0,\n            comercio_nombre: pedido.comercio_nombre || 'Comercio desconocido',\n            cantidad_packs: pedido.cantidad_packs || 1,\n            fecha_recogida: pedido.fecha_recogida || new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(),\n            // Asegurar que los items sean un array\n            items: Array.isArray(pedido.items) ? pedido.items : []\n          }));\n          console.log('âœ… Pedidos procesados:', pedidosValidados);\n          setPedidos(pedidosValidados);\n        }\n      } catch (error) {\n        console.error('âŒ Error al cargar pedidos:', error);\n\n        // En caso de error, mostrar datos de prueba para que la pantalla no estÃ© vacÃ­a\n        console.log('ðŸ”„ Error en API, usando datos de prueba como fallback...');\n        const pedidosFallback = [{\n          id: 'fallback-1',\n          comercio_nombre: 'Supermercado Fresh',\n          cantidad_packs: 1,\n          estado: 'confirmado',\n          total: 20000,\n          fecha_recogida: new Date(Date.now() + 4 * 60 * 60 * 1000).toISOString(),\n          items: [{\n            nombre: 'Pack Frutas y Verduras',\n            cantidad: 1,\n            precio: 20000\n          }]\n        }];\n        setPedidos(pedidosFallback);\n        // No mostrar error al usuario, solo en consola\n        console.warn('Usando datos de demostraciÃ³n debido a error en la API');\n      } finally {\n        setLoading(false);\n      }\n    };\n    cargarPedidos();\n  }, [navigate]);\n  const handleVerDetalle = pedido => {\n    var _authAPI$getCurrentUs;\n    // Crear datos para el QR\n    const qrData = createQRData({\n      id: pedido.id,\n      comercio_nombre: pedido.comercio_nombre,\n      total: pedido.total,\n      codigo_seguridad: pedido.codigo_seguridad,\n      cliente_nombre: ((_authAPI$getCurrentUs = authAPI.getCurrentUser()) === null || _authAPI$getCurrentUs === void 0 ? void 0 : _authAPI$getCurrentUs.nombre) || 'Cliente',\n      items: pedido.items,\n      comercio_direccion: pedido.direccion_comercio,\n      comercio_telefono: pedido.telefono_comercio\n    });\n\n    // Generar URL de verificaciÃ³n\n    const verificationURL = generateVerificationURL(qrData);\n\n    // Abrir en nueva ventana/pestaÃ±a\n    window.open(verificationURL, '_blank', 'width=800,height=900,scrollbars=yes,resizable=yes');\n  };\n  const handleCopySecurityCode = async codigo => {\n    try {\n      await navigator.clipboard.writeText(codigo);\n      alert(`âœ… CÃ³digo ${codigo} copiado al portapapeles`);\n    } catch (error) {\n      console.error('Error copying to clipboard:', error);\n      // Fallback para navegadores que no soportan clipboard API\n      const textArea = document.createElement('textarea');\n      textArea.value = codigo;\n      document.body.appendChild(textArea);\n      textArea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textArea);\n      alert(`âœ… CÃ³digo ${codigo} copiado al portapapeles`);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-orders-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando tus pedidos...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this);\n  }\n  const getStatusIcon = estado => {\n    switch (estado) {\n      case 'confirmado':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          size: 16,\n          className: \"status-icon confirmed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 16\n        }, this);\n      case 'listo':\n        return /*#__PURE__*/_jsxDEV(Package, {\n          size: 16,\n          className: \"status-icon ready\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 16\n        }, this);\n      case 'pendiente':\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          size: 16,\n          className: \"status-icon pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(AlertCircle, {\n          size: 16,\n          className: \"status-icon default\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getStatusText = estado => {\n    switch (estado) {\n      case 'confirmado':\n        return 'Confirmado';\n      case 'listo':\n        return 'Listo para recoger';\n      case 'pendiente':\n        return 'Pendiente';\n      default:\n        return estado;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"active-orders-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orders-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => navigate('/main'),\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Mis Pedidos Activos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), !Array.isArray(pedidos) || pedidos.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: /*#__PURE__*/_jsxDEV(Package, {\n            size: 64\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No tienes pedidos activos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cuando realices un pedido, aparecer\\xE1 aqu\\xED.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/main'),\n          className: \"btn btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this), \"Ver ofertas disponibles\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orders-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-summary\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"\\uD83D\\uDCE6 \", pedidos.length, \" \", pedidos.length === 1 ? 'pedido activo' : 'pedidos activos']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-list\",\n          children: pedidos.map(pedido => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-business\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: pedido.comercio_nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-status\",\n                  children: [getStatusIcon(pedido.estado), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: getStatusText(pedido.estado)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-total\",\n                children: [\"$\", pedido.total.toLocaleString('es-CO'), \" COP\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-item\",\n                  children: [/*#__PURE__*/_jsxDEV(Package, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [pedido.cantidad_packs, \" \", pedido.cantidad_packs === 1 ? 'paquete' : 'paquetes']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-item\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Recoger: \", new Date(pedido.fecha_recogida).toLocaleString('es-CO', {\n                      day: 'numeric',\n                      month: 'short',\n                      hour: '2-digit',\n                      minute: '2-digit'\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this), pedido.codigo_seguridad && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"security-code-card\",\n                onClick: () => handleCopySecurityCode(pedido.codigo_seguridad),\n                title: \"Click para copiar c\\xF3digo\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"security-code-header\",\n                  children: [/*#__PURE__*/_jsxDEV(Shield, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"C\\xF3digo de Seguridad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"security-code-value\",\n                  children: pedido.codigo_seguridad\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"security-code-hint\",\n                  children: \"\\uD83D\\uDC46 Click para copiar \\u2022 Muestra al comercio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleVerDetalle(pedido),\n                  className: \"btn btn-primary btn-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(QrCode, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this), \"Ver QR Verificaci\\xF3n\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this)]\n          }, pedido.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n_s(ActiveOrders, \"HdfkdBe+7e1dKR1cskBGMHWyL+Q=\", false, function () {\n  return [useNavigate];\n});\n_c = ActiveOrders;\nexport default ActiveOrders;\nvar _c;\n$RefreshReg$(_c, \"ActiveOrders\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","ArrowLeft","Package","Clock","MapPin","CheckCircle","AlertCircle","Shield","QrCode","pedidosAPI","authAPI","createQRData","generateVerificationURL","jsxDEV","_jsxDEV","ActiveOrders","_s","pedidos","setPedidos","loading","setLoading","navigate","generateSecurityCode","Math","random","toString","substring","toUpperCase","cargarPedidos","user","getCurrentUser","token","getToken","console","log","usuario","userId","id","tokenPresente","tokenLength","length","warn","pedidosPrueba","comercio_nombre","cantidad_packs","estado","total","fecha_recogida","Date","now","toISOString","items","nombre","cantidad","precio","codigo_seguridad","direccion_comercio","telefono_comercio","response","getList","pedidosData","Array","isArray","data","pedidosValidados","map","pedido","index","notas","fecha","error","pedidosFallback","handleVerDetalle","_authAPI$getCurrentUs","qrData","cliente_nombre","comercio_direccion","comercio_telefono","verificationURL","window","open","handleCopySecurityCode","codigo","navigator","clipboard","writeText","alert","textArea","document","createElement","value","body","appendChild","select","execCommand","removeChild","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getStatusIcon","size","getStatusText","onClick","toLocaleString","day","month","hour","minute","title","_c","$RefreshReg$"],"sources":["C:/Users/PERSONAL/Downloads/tugood tugo/src/pages/ActiveOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ArrowLeft, Package, Clock, MapPin, CheckCircle, AlertCircle, Shield, QrCode } from 'lucide-react';\nimport { pedidosAPI, authAPI } from '../services/api';\nimport { createQRData, generateVerificationURL } from '../utils/qrUtils';\nimport '../styles/ActiveOrders.css';\n\nconst ActiveOrders = () => {\n  const [pedidos, setPedidos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // FunciÃ³n para generar cÃ³digo de seguridad\n  const generateSecurityCode = () => {\n    return Math.random().toString(36).substring(2, 8).toUpperCase();\n  };\n\n  useEffect(() => {\n    const cargarPedidos = async () => {\n      try {\n        setLoading(true);\n        \n        // 1. Verificar autenticaciÃ³n\n        const user = authAPI.getCurrentUser();\n        const token = authAPI.getToken();\n        \n        console.log('ðŸ” Estado de autenticaciÃ³n:', {\n          usuario: user ? 'Autenticado' : 'No autenticado',\n          userId: user?.id,\n          tokenPresente: !!token,\n          tokenLength: token?.length\n        });\n        \n        if (!token || !user) {\n          console.warn('ðŸ”’ Usuario no autenticado. Creando datos de prueba...');\n          // En lugar de redirigir, crear datos de prueba para demostraciÃ³n\n          const pedidosPrueba = [\n            {\n              id: 'demo-1',\n              comercio_nombre: 'PanaderÃ­a San JosÃ©',\n              cantidad_packs: 2,\n              estado: 'confirmado',\n              total: 24000,\n              fecha_recogida: new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(), // 2 horas desde ahora\n              items: [\n                { nombre: 'Pack Sorpresa PanaderÃ­a', cantidad: 2, precio: 12000 }\n              ],\n              codigo_seguridad: generateSecurityCode(),\n              direccion_comercio: 'Carrera 15 #93-47, Chapinero',\n              telefono_comercio: '+57 301 234 5678'\n            },\n            {\n              id: 'demo-2',\n              comercio_nombre: 'Restaurante El Buen Sabor',\n              cantidad_packs: 1,\n              estado: 'listo',\n              total: 15000,\n              fecha_recogida: new Date(Date.now() + 1 * 60 * 60 * 1000).toISOString(), // 1 hora desde ahora\n              items: [\n                { nombre: 'Pack Almuerzo Sorpresa', cantidad: 1, precio: 15000 }\n              ],\n              codigo_seguridad: generateSecurityCode(),\n              direccion_comercio: 'Calle 85 #12-34, Zona Rosa',\n              telefono_comercio: '+57 302 345 6789'\n            }\n          ];\n          \n          console.log('ðŸ“¦ Usando datos de prueba:', pedidosPrueba);\n          setPedidos(pedidosPrueba);\n          setLoading(false);\n          return;\n        }\n        \n        // 2. Hacer la peticiÃ³n a la API usando el servicio pedidosAPI\n        console.log('ðŸ”„ Solicitando pedidos activos...');\n        const response = await pedidosAPI.getList({ estado: 'pendiente' });\n        \n        // 3. Procesar la respuesta\n        console.log('ðŸ“¦ Respuesta de la API:', response);\n        \n        // Extraer los pedidos de la respuesta (manejar diferentes formatos)\n        let pedidosData = [];\n        \n        if (Array.isArray(response)) {\n          pedidosData = response;\n        } else if (response && Array.isArray(response.pedidos)) {\n          pedidosData = response.pedidos;\n        } else if (response && Array.isArray(response.data)) {\n          pedidosData = response.data;\n        } else if (response) {\n          console.warn('âš ï¸ Formato de respuesta inesperado:', response);\n        }\n        \n        console.log(`ðŸ“Š ${pedidosData.length} pedidos encontrados`);\n        \n        // Si no hay pedidos de la API, usar datos de prueba\n        if (pedidosData.length === 0) {\n          console.log('ðŸ“ No hay pedidos en la API, usando datos de prueba...');\n          const pedidosPrueba = [\n            {\n              id: 'api-demo-1',\n              comercio_nombre: 'CafÃ© Central',\n              cantidad_packs: 1,\n              estado: 'pendiente',\n              total: 18000,\n              fecha_recogida: new Date(Date.now() + 3 * 60 * 60 * 1000).toISOString(),\n              items: [\n                { nombre: 'Pack CafÃ© y PastelerÃ­a', cantidad: 1, precio: 18000 }\n              ]\n            }\n          ];\n          setPedidos(pedidosPrueba);\n        } else {\n          // 4. Validar y formatear los pedidos\n          const pedidosValidados = pedidosData.map((pedido, index) => ({\n            id: pedido.id || `temp-${index}-${Date.now()}`,\n            ...pedido,\n            notas: pedido.notas || '',\n            estado: pedido.estado || 'pendiente',\n            fecha: pedido.fecha || new Date().toISOString(),\n            total: pedido.total || 0,\n            comercio_nombre: pedido.comercio_nombre || 'Comercio desconocido',\n            cantidad_packs: pedido.cantidad_packs || 1,\n            fecha_recogida: pedido.fecha_recogida || new Date(Date.now() + 2 * 60 * 60 * 1000).toISOString(),\n            // Asegurar que los items sean un array\n            items: Array.isArray(pedido.items) ? pedido.items : []\n          }));\n          \n          console.log('âœ… Pedidos procesados:', pedidosValidados);\n          setPedidos(pedidosValidados);\n        }\n      } catch (error) {\n        console.error('âŒ Error al cargar pedidos:', error);\n        \n        // En caso de error, mostrar datos de prueba para que la pantalla no estÃ© vacÃ­a\n        console.log('ðŸ”„ Error en API, usando datos de prueba como fallback...');\n        const pedidosFallback = [\n          {\n            id: 'fallback-1',\n            comercio_nombre: 'Supermercado Fresh',\n            cantidad_packs: 1,\n            estado: 'confirmado',\n            total: 20000,\n            fecha_recogida: new Date(Date.now() + 4 * 60 * 60 * 1000).toISOString(),\n            items: [\n              { nombre: 'Pack Frutas y Verduras', cantidad: 1, precio: 20000 }\n            ]\n          }\n        ];\n        \n        setPedidos(pedidosFallback);\n        // No mostrar error al usuario, solo en consola\n        console.warn('Usando datos de demostraciÃ³n debido a error en la API');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    cargarPedidos();\n  }, [navigate]);\n\n  const handleVerDetalle = (pedido) => {\n    // Crear datos para el QR\n    const qrData = createQRData({\n      id: pedido.id,\n      comercio_nombre: pedido.comercio_nombre,\n      total: pedido.total,\n      codigo_seguridad: pedido.codigo_seguridad,\n      cliente_nombre: authAPI.getCurrentUser()?.nombre || 'Cliente',\n      items: pedido.items,\n      comercio_direccion: pedido.direccion_comercio,\n      comercio_telefono: pedido.telefono_comercio\n    });\n    \n    // Generar URL de verificaciÃ³n\n    const verificationURL = generateVerificationURL(qrData);\n    \n    // Abrir en nueva ventana/pestaÃ±a\n    window.open(verificationURL, '_blank', 'width=800,height=900,scrollbars=yes,resizable=yes');\n  };\n\n\n\n  const handleCopySecurityCode = async (codigo) => {\n    try {\n      await navigator.clipboard.writeText(codigo);\n      alert(`âœ… CÃ³digo ${codigo} copiado al portapapeles`);\n    } catch (error) {\n      console.error('Error copying to clipboard:', error);\n      // Fallback para navegadores que no soportan clipboard API\n      const textArea = document.createElement('textarea');\n      textArea.value = codigo;\n      document.body.appendChild(textArea);\n      textArea.select();\n      document.execCommand('copy');\n      document.body.removeChild(textArea);\n      alert(`âœ… CÃ³digo ${codigo} copiado al portapapeles`);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"active-orders-screen\">\n        <div className=\"loading-container\">\n          <div className=\"loading-spinner\"></div>\n          <p>Cargando tus pedidos...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const getStatusIcon = (estado) => {\n    switch (estado) {\n      case 'confirmado':\n        return <CheckCircle size={16} className=\"status-icon confirmed\" />;\n      case 'listo':\n        return <Package size={16} className=\"status-icon ready\" />;\n      case 'pendiente':\n        return <Clock size={16} className=\"status-icon pending\" />;\n      default:\n        return <AlertCircle size={16} className=\"status-icon default\" />;\n    }\n  };\n\n  const getStatusText = (estado) => {\n    switch (estado) {\n      case 'confirmado':\n        return 'Confirmado';\n      case 'listo':\n        return 'Listo para recoger';\n      case 'pendiente':\n        return 'Pendiente';\n      default:\n        return estado;\n    }\n  };\n\n  return (\n    <div className=\"active-orders-screen\">\n      <div className=\"container\">\n        {/* Header */}\n        <div className=\"orders-header\">\n          <button className=\"back-button\" onClick={() => navigate('/main')}>\n            <ArrowLeft size={24} />\n          </button>\n          <h1>Mis Pedidos Activos</h1>\n        </div>\n\n        {/* Content */}\n        {!Array.isArray(pedidos) || pedidos.length === 0 ? (\n          <div className=\"empty-state\">\n            <div className=\"empty-icon\">\n              <Package size={64} />\n            </div>\n            <h3>No tienes pedidos activos</h3>\n            <p>Cuando realices un pedido, aparecerÃ¡ aquÃ­.</p>\n            <button\n              onClick={() => navigate('/main')}\n              className=\"btn btn-primary\"\n            >\n              <ArrowLeft size={20} />\n              Ver ofertas disponibles\n            </button>\n          </div>\n        ) : (\n          <div className=\"orders-content\">\n            <div className=\"orders-summary\">\n              <h2>\n                ðŸ“¦ {pedidos.length} {pedidos.length === 1 ? 'pedido activo' : 'pedidos activos'}\n              </h2>\n            </div>\n            \n            <div className=\"orders-list\">\n              {pedidos.map((pedido) => (\n                <div key={pedido.id} className=\"order-card\">\n                  <div className=\"order-header\">\n                    <div className=\"order-business\">\n                      <h3>{pedido.comercio_nombre}</h3>\n                      <div className=\"order-status\">\n                        {getStatusIcon(pedido.estado)}\n                        <span>{getStatusText(pedido.estado)}</span>\n                      </div>\n                    </div>\n                    <div className=\"order-total\">\n                      ${pedido.total.toLocaleString('es-CO')} COP\n                    </div>\n                  </div>\n                  \n                  <div className=\"order-details\">\n                    <div className=\"order-info\">\n                      <div className=\"info-item\">\n                        <Package size={16} />\n                        <span>{pedido.cantidad_packs} {pedido.cantidad_packs === 1 ? 'paquete' : 'paquetes'}</span>\n                      </div>\n                      <div className=\"info-item\">\n                        <Clock size={16} />\n                        <span>Recoger: {new Date(pedido.fecha_recogida).toLocaleString('es-CO', {\n                          day: 'numeric',\n                          month: 'short',\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        })}</span>\n                      </div>\n                    </div>\n                    \n                    {/* CÃ³digo de Seguridad Destacado */}\n                    {pedido.codigo_seguridad && (\n                      <div \n                        className=\"security-code-card\"\n                        onClick={() => handleCopySecurityCode(pedido.codigo_seguridad)}\n                        title=\"Click para copiar cÃ³digo\"\n                      >\n                        <div className=\"security-code-header\">\n                          <Shield size={18} />\n                          <span>CÃ³digo de Seguridad</span>\n                        </div>\n                        <div className=\"security-code-value\">\n                          {pedido.codigo_seguridad}\n                        </div>\n                        <div className=\"security-code-hint\">\n                          ðŸ‘† Click para copiar â€¢ Muestra al comercio\n                        </div>\n                      </div>\n                    )}\n                    \n                    <div className=\"order-actions\">\n                      <button\n                        onClick={() => handleVerDetalle(pedido)}\n                        className=\"btn btn-primary btn-sm\"\n                      >\n                        <QrCode size={16} />\n                        Ver QR VerificaciÃ³n\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n    </div>\n  );\n};\n\nexport default ActiveOrders;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}